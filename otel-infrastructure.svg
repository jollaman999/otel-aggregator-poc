<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1900 1800" width="1900" height="1800">
  <!-- Define styles -->
  <defs>
    <style>
      .box { fill: #ffffff; stroke: #333; stroke-width: 2; }
      .cluster { fill: #f0f0f0; stroke: #666; stroke-width: 2; stroke-dasharray: 5,5; }
      .vip-box { fill: #e3f2fd; stroke: #1976d2; stroke-width: 3; }
      .master-box { fill: #fff3e0; stroke: #f57c00; stroke-width: 2; }
      .backup-box { fill: #f3e5f5; stroke: #7b1fa2; stroke-width: 2; }
      .storage-box { fill: #e8f5e9; stroke: #388e3c; stroke-width: 2; }
      .client-box { fill: #fce4ec; stroke: #c2185b; stroke-width: 2; }
      .keepalived-box { fill: #ffebee; stroke: #d32f2f; stroke-width: 2; }
      .haproxy-box { fill: #e8eaf6; stroke: #3f51b5; stroke-width: 2; }
      .minio-cluster { fill: #f1f8e9; stroke: #689f38; stroke-width: 3; stroke-dasharray: 8,4; }
      .text { font-family: Arial, sans-serif; font-size: 14px; fill: #333; text-anchor: middle; }
      .text-small { font-family: Arial, sans-serif; font-size: 11px; fill: #666; text-anchor: middle; }
      .title { font-family: Arial, sans-serif; font-size: 20px; font-weight: bold; fill: #1a237e; text-anchor: middle; }
      .label { font-family: Arial, sans-serif; font-size: 10px; fill: #666; }
      .line { stroke: #333; stroke-width: 2; fill: none; }
      .line-blue { stroke: #1976d2; stroke-width: 2; fill: none; }
      .line-orange { stroke: #f57c00; stroke-width: 2; fill: none; }
      .line-green { stroke: #388e3c; stroke-width: 2; fill: none; }
      .line-purple { stroke: #7b1fa2; stroke-width: 2; fill: none; }
      .line-brown { stroke: #5d4037; stroke-width: 2; fill: none; }
      .line-red { stroke: #d32f2f; stroke-width: 2; fill: none; }
      .arrow { stroke: #333; stroke-width: 2; fill: #333; }
    </style>

    <!-- Define arrow markers -->
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333" />
    </marker>
    <marker id="arrowhead-blue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#1976d2" />
    </marker>
    <marker id="arrowhead-orange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#f57c00" />
    </marker>
    <marker id="arrowhead-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#388e3c" />
    </marker>
    <marker id="arrowhead-purple" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#7b1fa2" />
    </marker>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#d32f2f" />
    </marker>
    <marker id="arrowhead-brown" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#5d4037" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="950" y="30" class="title">OpenTelemetry High Availability Infrastructure</text>

  <!-- External Clients -->
  <rect x="850" y="60" width="200" height="60" class="client-box" rx="5"/>
  <text x="950" y="85" class="text">External Clients</text>
  <text x="950" y="105" class="text-small">(OTLP/HTTP)</text>

  <!-- Virtual IP -->
  <rect x="800" y="160" width="300" height="100" class="vip-box" rx="5"/>
  <text x="950" y="185" class="text" style="font-weight: bold;">Virtual IP: 192.168.110.140</text>
  <text x="950" y="205" class="text-small">OTLP :4318 | Thanos QF :19193</text>
  <text x="950" y="225" class="text-small">Thanos Q :9192 | Loki :3100</text>
  <text x="950" y="245" class="text-small">(VRRP Managed)</text>

  <!-- Node 1 (MASTER) -->
  <rect x="50" y="320" width="800" height="750" class="cluster" rx="10"/>
  <text x="450" y="345" class="text" style="font-weight: bold;">Node 1 - MASTER (192.168.110.214)</text>

  <!-- Node 1: Keepalived (Separate) -->
  <rect x="330" y="280" width="100" height="60" class="keepalived-box" rx="5"/>
  <text x="380" y="305" class="text" style="font-weight: bold;">Keepalived</text>
  <text x="380" y="325" class="text-small">Priority: 100</text>

  <!-- Node 1: HAProxy (Separate) -->
  <rect x="330" y="370" width="100" height="80" class="haproxy-box" rx="5"/>
  <text x="380" y="395" class="text" style="font-weight: bold;">HAProxy</text>
  <text x="380" y="415" class="text-small">Load Balancer</text>
  <text x="380" y="435" class="text-small">:4318/19193/9192/3100</text>

  <!-- Node 1: OTel Aggregator -->
  <rect x="80" y="490" width="140" height="70" class="master-box" rx="5"/>
  <text x="150" y="515" class="text">OTel Aggregator</text>
  <text x="150" y="535" class="text-small">:14318 (HTTP)</text>
  <text x="150" y="550" class="text-small">:14317 (gRPC)</text>

  <!-- Node 1: Prometheus -->
  <rect x="80" y="600" width="140" height="80" class="master-box" rx="5"/>
  <text x="150" y="625" class="text">Prometheus</text>
  <text x="150" y="645" class="text-small">:19090</text>
  <text x="150" y="665" class="text-small">Retention: 2h</text>

  <!-- Node 1: Thanos Sidecar -->
  <rect x="240" y="600" width="140" height="80" class="master-box" rx="5"/>
  <text x="310" y="625" class="text">Thanos Sidecar</text>
  <text x="310" y="645" class="text-small">:10901/:10902</text>

  <!-- Node 1: Thanos Receiver -->
  <rect x="80" y="720" width="140" height="80" class="master-box" rx="5"/>
  <text x="150" y="745" class="text">Thanos Receiver</text>
  <text x="150" y="765" class="text-small">:19291/:10907</text>
  <text x="150" y="785" class="text-small">:10909</text>

  <!-- Node 1: Thanos Query -->
  <rect x="240" y="720" width="140" height="80" class="master-box" rx="5"/>
  <text x="310" y="745" class="text">Thanos Query</text>
  <text x="310" y="765" class="text-small">:19192/:10904</text>

  <!-- Node 1: Query Frontend -->
  <rect x="550" y="720" width="140" height="80" class="master-box" rx="5"/>
  <text x="620" y="745" class="text">Query Frontend</text>
  <text x="620" y="755" class="text-small">:29193</text>

  <!-- Node 1: Thanos Store -->
  <rect x="80" y="840" width="140" height="60" class="master-box" rx="5"/>
  <text x="150" y="865" class="text">Thanos Store</text>
  <text x="150" y="885" class="text-small">:10905/:10906</text>

  <!-- Node 1: Compactor -->
  <rect x="240" y="840" width="140" height="60" class="master-box" rx="5"/>
  <text x="310" y="865" class="text">Compactor</text>
  <text x="310" y="885" class="text-small">:10912</text>

  <!-- Node 1: Loki -->
  <rect x="550" y="490" width="140" height="70" class="master-box" rx="5"/>
  <text x="620" y="515" class="text">Loki</text>
  <text x="620" y="535" class="text-small">:13100</text>
  <text x="620" y="550" class="text-small">Retention: 90d</text>

  <!-- Node 1: MinIO -->
  <rect x="650" y="980" width="200" height="80" class="master-box" rx="5"/>
  <text x="750" y="1005" class="text">MinIO Node 1</text>
  <text x="750" y="1025" class="text-small">:9000 (S3 API)</text>
  <text x="750" y="1045" class="text-small">/data1 + /data2</text>

  <!-- Node 2 (BACKUP) -->
  <rect x="1050" y="320" width="800" height="750" class="cluster" rx="10"/>
  <text x="1450" y="345" class="text" style="font-weight: bold;">Node 2 - BACKUP (192.168.110.119)</text>

  <!-- Node 2: Keepalived (Separate) -->
  <rect x="1470" y="280" width="100" height="60" class="keepalived-box" rx="5"/>
  <text x="1520" y="305" class="text" style="font-weight: bold;">Keepalived</text>
  <text x="1520" y="325" class="text-small">Priority: 90</text>

  <!-- Node 2: HAProxy (Separate) -->
  <rect x="1470" y="370" width="100" height="80" class="haproxy-box" rx="5"/>
  <text x="1520" y="395" class="text" style="font-weight: bold;">HAProxy</text>
  <text x="1520" y="415" class="text-small">Load Balancer</text>
  <text x="1520" y="435" class="text-small">:4318/19193/9192/3100</text>

  <!-- Node 2: OTel Aggregator -->
  <text x="1680" y="515" class="text">OTel Aggregator</text>
  <rect x="1660" y="490" width="140" height="70" class="backup-box" rx="5"/>
  <text x="1730" y="535" class="text-small">:14318 (HTTP)</text>
  <text x="1730" y="550" class="text-small">:14317 (gRPC)</text>

  <!-- Node 2: Prometheus -->
  <rect x="1660" y="600" width="140" height="80" class="backup-box" rx="5"/>
  <text x="1730" y="625" class="text">Prometheus</text>
  <text x="1730" y="645" class="text-small">:19090</text>
  <text x="1730" y="665" class="text-small">Retention: 2h</text>

  <!-- Node 2: Thanos Sidecar -->
  <rect x="1510" y="600" width="140" height="80" class="backup-box" rx="5"/>
  <text x="1580" y="625" class="text">Thanos Sidecar</text>
  <text x="1580" y="645" class="text-small">:10901/:10902</text>

  <!-- Node 2: Thanos Receiver -->
  <rect x="1660" y="720" width="140" height="80" class="backup-box" rx="5"/>
  <text x="1730" y="745" class="text">Thanos Receiver</text>
  <text x="1730" y="765" class="text-small">:19291/:10907</text>
  <text x="1730" y="785" class="text-small">:10909</text>

  <!-- Node 2: Thanos Query -->
  <rect x="1510" y="720" width="140" height="80" class="backup-box" rx="5"/>
  <text x="1580" y="745" class="text">Thanos Query</text>
  <text x="1580" y="765" class="text-small">:19192/:10904</text>

  <!-- Node 2: Query Frontend -->
  <rect x="1210" y="720" width="140" height="80" class="backup-box" rx="5"/>
  <text x="1280" y="745" class="text">Query Frontend</text>
  <text x="1280" y="755" class="text-small">:29193</text>

  <!-- Node 2: Thanos Store -->
  <rect x="1660" y="840" width="140" height="60" class="backup-box" rx="5"/>
  <text x="1730" y="865" class="text">Thanos Store</text>
  <text x="1730" y="885" class="text-small">:10905/:10906</text>

  <!-- Node 2: Compactor -->
  <rect x="1510" y="840" width="140" height="60" class="backup-box" rx="5"/>
  <text x="1580" y="865" class="text">Compactor</text>
  <text x="1580" y="885" class="text-small">:10912</text>

  <!-- Node 2: Loki -->
  <rect x="1210" y="490" width="140" height="70" class="backup-box" rx="5"/>
  <text x="1280" y="515" class="text">Loki</text>
  <text x="1280" y="535" class="text-small">:13100</text>
  <text x="1280" y="550" class="text-small">Retention: 90d</text>

  <!-- Node 2: MinIO -->
  <rect x="1050" y="980" width="200" height="80" class="backup-box" rx="5"/>
  <text x="1150" y="1005" class="text">MinIO Node 2</text>
  <text x="1150" y="1025" class="text-small">:9000 (S3 API)</text>
  <text x="1150" y="1045" class="text-small">/data1 + /data2</text>

  <!-- MinIO Distributed Cluster with Buckets -->
  <rect x="650" y="1180" width="600" height="280" class="minio-cluster" rx="10"/>
  <text x="950" y="1210" class="text" style="font-weight: bold; font-size: 16px;">MinIO Distributed Cluster (Erasure Coding)</text>
  <text x="950" y="1235" class="text-small">4 Drives across 2 Nodes - Distributed Mode</text>

  <!-- MinIO Architecture -->
  <rect x="680" y="1260" width="240" height="80" class="storage-box" rx="5"/>
  <text x="800" y="1285" class="text" style="font-weight: bold;">Storage Pool</text>
  <text x="800" y="1305" class="text-small">Node1:/data1 + /data2</text>
  <text x="800" y="1325" class="text-small">Node2:/data1 + /data2</text>

  <rect x="970" y="1260" width="240" height="80" class="storage-box" rx="5"/>
  <text x="1090" y="1285" class="text" style="font-weight: bold;">Replication</text>
  <text x="1090" y="1305" class="text-small">Erasure Coding: EC:2</text>
  <text x="1090" y="1325" class="text-small">Fault Tolerance: 2 drives</text>

  <!-- MinIO Buckets -->
  <rect x="700" y="1370" width="220" height="70" class="storage-box" rx="5" style="fill: #c8e6c9;"/>
  <text x="810" y="1395" class="text" style="font-weight: bold;">thanos-metrics</text>
  <text x="810" y="1415" class="text-small">Prometheus Blocks</text>
  <text x="810" y="1430" class="text-small">Thanos Components</text>

  <rect x="980" y="1370" width="220" height="70" class="storage-box" rx="5" style="fill: #ffe0b2;"/>
  <text x="1090" y="1395" class="text" style="font-weight: bold;">loki-data</text>
  <text x="1090" y="1415" class="text-small">Log Chunks/Index</text>
  <text x="1090" y="1430" class="text-small">Loki Instances</text>

  <!-- Connections: Clients to VIP -->
  <path d="M 950,120 L 950,160" class="line-blue" marker-end="url(#arrowhead-blue)"/>
  <text x="980" y="145" class="label" fill="#1976d2">OTLP/HTTP</text>

  <!-- VIP to Node 1 Keepalived -->
  <path d="M 850,260 L 380,280" class="line-red" marker-end="url(#arrowhead-red)"/>
  <text x="570" y="265" class="label" fill="#d32f2f">VRRP Failover</text>

  <!-- VIP to Node 2 Keepalived -->
  <path d="M 1050,260 L 1520,280" class="line-red" marker-end="url(#arrowhead-red)"/>

  <!-- Node 1: Keepalived to HAProxy -->
  <path d="M 380,340 L 380,370" class="line-red" marker-end="url(#arrowhead-red)"/>
  <text x="400" y="360" class="label" fill="#d32f2f">Monitor</text>

  <!-- Node 1: HAProxy branching to services -->
  <!-- HAProxy to OTel (left) -->
  <path d="M 330,410 L 270,410 L 270,470 L 150,470 L 150,490" class="line-blue" marker-end="url(#arrowhead-blue)"/>
  <text x="205" y="405" class="label" fill="#1976d2">OTLP :4318</text>

  <!-- HAProxy to Loki (right) -->
  <path d="M 430,410 L 490,410 L 490,470 L 620,470 L 620,490" class="line-orange" marker-end="url(#arrowhead-orange)"/>
  <text x="540" y="405" class="label" fill="#f57c00">Loki :3100</text>

  <!-- HAProxy to Query Frontend (far right with curve) -->
  <path d="M 380,450 L 380,460 L 560,460 L 560,680 L 620,680 L 620,720" class="line-purple" marker-end="url(#arrowhead-purple)"/>
  <text x="500" y="455" class="label" fill="#7b1fa2">Query Frontend :19193</text>

  <!-- HAProxy to Thanos Query (left side curve) -->
  <path d="M 330,450 L 330,460 L 200,460 L 200,690 L 240,690 L 240,720" class="line-purple" style="stroke-dasharray: 3,3" marker-end="url(#arrowhead-purple)"/>
  <text x="100" y="575" class="label" fill="#7b1fa2">Query :9192</text>

  <!-- Node 1: OTel to Prometheus -->
  <path d="M 150,560 L 150,600" class="line-green" marker-end="url(#arrowhead-green)"/>
  <text x="170" y="580" class="label" fill="#388e3c">Metrics</text>

  <!-- Node 1: Prometheus to Thanos Sidecar -->
  <path d="M 220,640 L 240,640" class="line-purple" marker-end="url(#arrowhead-purple)"/>

  <!-- Node 1: Prometheus to Local Thanos Receiver (left side) -->
  <path d="M 120,680 L 120,700 L 80,700 L 80,760" class="line-purple" marker-end="url(#arrowhead-purple)"/>
  <text x="40" y="730" class="label" fill="#7b1fa2">Remote Write</text>

  <!-- Node 1: Prometheus to Node 2 Thanos Receiver (cross-node remote write, very bottom) -->
  <path d="M 220,670 L 250,670 L 250,950 L 1600,950 L 1600,760 L 1660,760" class="line-purple" style="stroke-dasharray: 5,5" marker-end="url(#arrowhead-purple)"/>
  <text x="900" y="945" class="label" fill="#7b1fa2">Cross-node Remote Write</text>

  <!-- Node 1: Query Frontend to Query -->
  <path d="M 550,760 L 380,760" class="line-purple" marker-end="url(#arrowhead-purple)"/>

  <!-- Node 1: Thanos Query to Sidecar -->
  <path d="M 310,720 L 310,680" class="line-purple" marker-end="url(#arrowhead-purple)"/>

  <!-- Node 1: Thanos Query to Receiver -->
  <path d="M 240,760 L 220,760" class="line-purple" marker-end="url(#arrowhead-purple)"/>

  <!-- Node 1: Thanos Query to Store -->
  <path d="M 280,800 L 200,840" class="line-purple" marker-end="url(#arrowhead-purple)"/>

  <!-- Node 1: Thanos Sidecar to MinIO (right side curve) -->
  <path d="M 380,640 L 400,640 L 400,960 L 750,960 L 750,980" class="line-purple" marker-end="url(#arrowhead-purple)"/>
  <text x="410" y="800" class="label" fill="#7b1fa2">Upload Blocks</text>

  <!-- Node 1: Thanos Store to MinIO bucket -->
  <path d="M 150,900 L 150,1120 L 780,1120 L 780,1180" class="line-purple" marker-end="url(#arrowhead-purple)"/>
  <text x="170" y="1010" class="label" fill="#7b1fa2">Read Blocks</text>

  <!-- Node 1: Thanos Receiver to MinIO bucket (far left) -->
  <path d="M 80,790 L 50,790 L 50,1090 L 730,1090 L 730,1180" class="line-purple" marker-end="url(#arrowhead-purple)"/>
  <text x="60" y="940" class="label" fill="#7b1fa2">Upload Blocks</text>

  <!-- Node 1: Compactor to MinIO bucket -->
  <path d="M 310,900 L 310,1140 L 820,1140 L 820,1180" class="line-purple" marker-end="url(#arrowhead-purple)"/>
  <text x="320" y="1040" class="label" fill="#7b1fa2">Compact Blocks</text>

  <!-- Node 1: Loki to MinIO bucket -->
  <path d="M 620,560 L 620,930 L 870,930 L 870,1180" class="line-orange" marker-end="url(#arrowhead-orange)"/>
  <text x="640" y="850" class="label" fill="#f57c00">Store Logs</text>

  <!-- Node 1: MinIO to Distributed Cluster -->
  <path d="M 750,1060 L 800,1180" class="line-brown" marker-end="url(#arrowhead-brown)"/>
  <text x="760" y="1120" class="label" fill="#5d4037">Erasure Coding</text>

  <!-- Node 2: Keepalived to HAProxy -->
  <path d="M 1520,340 L 1520,370" class="line-red" marker-end="url(#arrowhead-red)"/>
  <text x="1540" y="360" class="label" fill="#d32f2f">Monitor</text>

  <!-- Node 2: HAProxy branching to services -->
  <!-- HAProxy to OTel (right) -->
  <path d="M 1570,410 L 1630,410 L 1630,470 L 1730,470 L 1730,490" class="line-blue" marker-end="url(#arrowhead-blue)"/>
  <text x="1685" y="405" class="label" fill="#1976d2">OTLP :4318</text>

  <!-- HAProxy to Loki (left) -->
  <path d="M 1470,410 L 1410,410 L 1410,470 L 1280,470 L 1280,490" class="line-orange" marker-end="url(#arrowhead-orange)"/>
  <text x="1350" y="405" class="label" fill="#f57c00">Loki :3100</text>

  <!-- HAProxy to Query Frontend (far left with curve) -->
  <path d="M 1520,450 L 1520,460 L 1340,460 L 1340,680 L 1280,680 L 1280,720" class="line-purple" marker-end="url(#arrowhead-purple)"/>
  <text x="1360" y="455" class="label" fill="#7b1fa2">Query Frontend :19193</text>

  <!-- HAProxy to Thanos Query (right side curve) -->
  <path d="M 1570,450 L 1570,460 L 1700,460 L 1700,690 L 1650,690 L 1650,720" class="line-purple" style="stroke-dasharray: 3,3" marker-end="url(#arrowhead-purple)"/>
  <text x="1730" y="575" class="label" fill="#7b1fa2">Query :9192</text>

  <!-- Node 2: OTel to Prometheus -->
  <path d="M 1730,560 L 1730,600" class="line-green" marker-end="url(#arrowhead-green)"/>
  <text x="1750" y="580" class="label" fill="#388e3c">Metrics</text>

  <!-- Node 2: Prometheus to Thanos Sidecar -->
  <path d="M 1660,640 L 1650,640" class="line-purple" marker-end="url(#arrowhead-purple)"/>

  <!-- Node 2: Prometheus to Local Thanos Receiver (right side) -->
  <path d="M 1760,680 L 1760,700 L 1800,700 L 1800,760 L 1800,760" class="line-purple" marker-end="url(#arrowhead-purple)"/>
  <text x="1810" y="730" class="label" fill="#7b1fa2">Remote Write</text>

  <!-- Node 2: Prometheus to Node 1 Thanos Receiver (cross-node remote write, very bottom) -->
  <path d="M 1660,670 L 1630,670 L 1630,970 L 300,970 L 300,760 L 220,760" class="line-purple" style="stroke-dasharray: 5,5" marker-end="url(#arrowhead-purple)"/>

  <!-- Node 2: Query Frontend to Query -->
  <path d="M 1350,760 L 1510,760" class="line-purple" marker-end="url(#arrowhead-purple)"/>

  <!-- Node 2: Thanos Query to Sidecar -->
  <path d="M 1580,720 L 1580,680" class="line-purple" marker-end="url(#arrowhead-purple)"/>

  <!-- Node 2: Thanos Query to Receiver -->
  <path d="M 1650,760 L 1660,760" class="line-purple" marker-end="url(#arrowhead-purple)"/>

  <!-- Node 2: Thanos Query to Store -->
  <path d="M 1610,800 L 1690,840" class="line-purple" marker-end="url(#arrowhead-purple)"/>

  <!-- Node 2: Thanos Sidecar to MinIO (left side curve) -->
  <path d="M 1510,640 L 1490,640 L 1490,960 L 1150,960 L 1150,980" class="line-purple" marker-end="url(#arrowhead-purple)"/>
  <text x="1400" y="800" class="label" fill="#7b1fa2">Upload Blocks</text>

  <!-- Node 2: Thanos Store to MinIO bucket -->
  <path d="M 1730,900 L 1730,1120 L 1120,1120 L 1120,1180" class="line-purple" marker-end="url(#arrowhead-purple)"/>
  <text x="1680" y="1010" class="label" fill="#7b1fa2">Read Blocks</text>

  <!-- Node 2: Thanos Receiver to MinIO bucket (far right) -->
  <path d="M 1800,790 L 1850,790 L 1850,1090 L 1170,1090 L 1170,1180" class="line-purple" marker-end="url(#arrowhead-purple)"/>
  <text x="1810" y="940" class="label" fill="#7b1fa2">Upload Blocks</text>

  <!-- Node 2: Compactor to MinIO bucket -->
  <path d="M 1580,900 L 1580,1140 L 1080,1140 L 1080,1180" class="line-purple" marker-end="url(#arrowhead-purple)"/>
  <text x="1520" y="1040" class="label" fill="#7b1fa2">Compact Blocks</text>

  <!-- Node 2: Loki to MinIO bucket -->
  <path d="M 1280,560 L 1280,930 L 1030,930 L 1030,1180" class="line-orange" marker-end="url(#arrowhead-orange)"/>
  <text x="1220" y="850" class="label" fill="#f57c00">Store Logs</text>

  <!-- Node 2: MinIO to Distributed Cluster -->
  <path d="M 1150,1060 L 1100,1180" class="line-brown" marker-end="url(#arrowhead-brown)"/>
  <text x="1110" y="1120" class="label" fill="#5d4037">Erasure Coding</text>

  <!-- MinIO inter-node replication -->
  <line x1="850" y1="1020" x2="1050" y2="1020" class="line-brown" style="stroke-dasharray: 5,5"/>
  <text x="950" y="1015" class="label" fill="#5d4037">Distributed Cluster Sync</text>

  <!-- Buckets to Storage Pool -->
  <path d="M 810,1370 L 800,1340" class="line-brown" marker-end="url(#arrowhead-brown)"/>
  <path d="M 1090,1370 L 1090,1340" class="line-brown" marker-end="url(#arrowhead-brown)"/>

  <!-- Legend -->
  <rect x="50" y="1550" width="1800" height="180" fill="#fafafa" stroke="#999" stroke-width="1" rx="5"/>
  <text x="950" y="1580" class="text" style="font-weight: bold; font-size: 16px;">Legend</text>

  <line x1="100" y1="1610" x2="150" y2="1610" class="line-blue" marker-end="url(#arrowhead-blue)"/>
  <text x="200" y="1615" class="text-small" style="text-anchor: start;">OTLP Data Flow</text>

  <line x1="450" y1="1610" x2="500" y2="1610" class="line-green" marker-end="url(#arrowhead-green)"/>
  <text x="550" y="1615" class="text-small" style="text-anchor: start;">Metrics Flow</text>

  <line x1="800" y1="1610" x2="850" y2="1610" class="line-orange" marker-end="url(#arrowhead-orange)"/>
  <text x="900" y="1615" class="text-small" style="text-anchor: start;">Logs Flow</text>

  <line x1="1150" y1="1610" x2="1200" y2="1610" class="line-purple" marker-end="url(#arrowhead-purple)"/>
  <text x="1250" y="1615" class="text-small" style="text-anchor: start;">Thanos gRPC/Storage</text>

  <line x1="1550" y1="1610" x2="1600" y2="1610" class="line-red" marker-end="url(#arrowhead-red)"/>
  <text x="1650" y="1615" class="text-small" style="text-anchor: start;">VRRP/HA Control</text>

  <line x1="100" y1="1645" x2="150" y2="1645" class="line-brown" marker-end="url(#arrowhead-brown)"/>
  <text x="200" y="1650" class="text-small" style="text-anchor: start;">MinIO Storage</text>

  <line x1="450" y1="1645" x2="500" y2="1645" class="line" style="stroke-dasharray: 5,5"/>
  <text x="550" y="1650" class="text-small" style="text-anchor: start;">Cross-node/Replication</text>

  <rect x="800" y="1630" width="30" height="20" class="keepalived-box" rx="2"/>
  <text x="880" y="1645" class="text-small" style="text-anchor: start;">Keepalived (HA)</text>

  <rect x="1100" y="1630" width="30" height="20" class="haproxy-box" rx="2"/>
  <text x="1180" y="1645" class="text-small" style="text-anchor: start;">HAProxy (Load Balancer)</text>

  <rect x="1450" y="1630" width="30" height="20" class="storage-box" rx="2"/>
  <text x="1530" y="1645" class="text-small" style="text-anchor: start;">Storage/Bucket</text>

  <rect x="100" y="1675" width="30" height="20" class="vip-box" rx="2"/>
  <text x="180" y="1690" class="text-small" style="text-anchor: start;">Virtual IP</text>

  <rect x="450" y="1675" width="30" height="20" class="master-box" rx="2"/>
  <text x="530" y="1690" class="text-small" style="text-anchor: start;">Node 1 (Master)</text>

  <rect x="800" y="1675" width="30" height="20" class="backup-box" rx="2"/>
  <text x="880" y="1690" class="text-small" style="text-anchor: start;">Node 2 (Backup)</text>

  <rect x="1100" y="1675" width="30" height="20" class="minio-cluster" rx="2"/>
  <text x="1180" y="1690" class="text-small" style="text-anchor: start;">MinIO Distributed Cluster</text>
</svg>
